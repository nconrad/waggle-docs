<!doctype html>
<html lang="en" dir="ltr" class="mdx-wrapper mdx-page plugin-pages plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Integrating Chameleon | Sage Website</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://nconrad.github.io/waggle-docs/science/integrating-chameleon"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Integrating Chameleon | Sage Website"><meta data-rh="true" name="description" content="Hello! My name is Akhil Kodumuri, and I am currently a Sophomore pursuing a Computer Engineering degree at the University of Illinois at Urbana-Champaign. My work with Sage this Summer consisted of integrating Sage AI at the edge cyberinfrastructure with the Chameleon platform to simulate a testing and deploying environment."><meta data-rh="true" property="og:description" content="Hello! My name is Akhil Kodumuri, and I am currently a Sophomore pursuing a Computer Engineering degree at the University of Illinois at Urbana-Champaign. My work with Sage this Summer consisted of integrating Sage AI at the edge cyberinfrastructure with the Chameleon platform to simulate a testing and deploying environment."><link data-rh="true" rel="icon" href="/waggle-docs/img/sage-favicon.png"><link data-rh="true" rel="canonical" href="https://nconrad.github.io/waggle-docs/science/integrating-chameleon"><link data-rh="true" rel="alternate" href="https://nconrad.github.io/waggle-docs/science/integrating-chameleon" hreflang="en"><link data-rh="true" rel="alternate" href="https://nconrad.github.io/waggle-docs/science/integrating-chameleon" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://MPDJQF6T11-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/waggle-docs/blog/rss.xml" title="Sage Website RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/waggle-docs/blog/atom.xml" title="Sage Website Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Sage Website" href="/waggle-docs/opensearch.xml"><link rel="stylesheet" href="/waggle-docs/assets/css/styles.1033d17d.css">
<link rel="preload" href="/waggle-docs/assets/js/runtime~main.5551fb9b.js" as="script">
<link rel="preload" href="/waggle-docs/assets/js/main.a7c51225.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/waggle-docs/"><div class="navbar__logo"><img src="/waggle-docs/img/logo.png" alt="Site Logo" class="themedImage_ToTc themedImage--light_HNdA custom-navbar-logo-class"><img src="/waggle-docs/img/logo_dark.svg" alt="Site Logo" class="themedImage_ToTc themedImage--dark_i4oU custom-navbar-logo-class"></div><b class="navbar__title text--truncate">Sage</b></a><a class="navbar__item navbar__link" href="/waggle-docs/about">About</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/waggle-docs/science">Science</a><a class="navbar__item navbar__link" href="/waggle-docs/publications">Publications</a><a class="navbar__item navbar__link" href="/waggle-docs/blog">News</a><a class="navbar__item navbar__link" href="/waggle-docs/team">Team</a><a class="navbar__item navbar__link" href="/waggle-docs/docs/about/overview">Docs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link header-github-link" aria-label="GitHub repository"></a><ul class="dropdown__menu"><li><a href="https://github.com/sagecontinuum" target="_blank" rel="noopener noreferrer" class="dropdown__link">Sage GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://github.com/waggle-sensor" target="_blank" rel="noopener noreferrer" class="dropdown__link">Waggle Sensor GitHub<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="SignInBtn__Root-sc-1lj79ef-0 fqsrYB"><style data-emotion="css 6ii3fu">.css-6ii3fu{font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:5px 15px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border:1px solid rgba(25, 118, 210, 0.5);color:#1976d2;}.css-6ii3fu:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);border:1px solid #1976d2;}@media (hover: none){.css-6ii3fu:hover{background-color:transparent;}}.css-6ii3fu.Mui-disabled{color:rgba(0, 0, 0, 0.26);border:1px solid rgba(0, 0, 0, 0.12);}</style><style data-emotion="css 79xub">.css-79xub{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;position:relative;box-sizing:border-box;-webkit-tap-highlight-color:transparent;background-color:transparent;outline:0;border:0;margin:0;border-radius:0;padding:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:middle;-moz-appearance:none;-webkit-appearance:none;-webkit-text-decoration:none;text-decoration:none;color:inherit;font-family:"Roboto","Helvetica","Arial",sans-serif;font-weight:500;font-size:0.875rem;line-height:1.75;letter-spacing:0.02857em;text-transform:uppercase;min-width:64px;padding:5px 15px;border-radius:4px;-webkit-transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:background-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,box-shadow 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,border-color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms,color 250ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;border:1px solid rgba(25, 118, 210, 0.5);color:#1976d2;}.css-79xub::-moz-focus-inner{border-style:none;}.css-79xub.Mui-disabled{pointer-events:none;cursor:default;}@media print{.css-79xub{-webkit-print-color-adjust:exact;color-adjust:exact;}}.css-79xub:hover{-webkit-text-decoration:none;text-decoration:none;background-color:rgba(25, 118, 210, 0.04);border:1px solid #1976d2;}@media (hover: none){.css-79xub:hover{background-color:transparent;}}.css-79xub.Mui-disabled{color:rgba(0, 0, 0, 0.26);border:1px solid rgba(0, 0, 0, 0.12);}</style><a class="MuiButtonBase-root MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium MuiButton-root MuiButton-outlined MuiButton-outlinedPrimary MuiButton-sizeMedium MuiButton-outlinedSizeMedium css-79xub" tabindex="0" href="https://portal.sagecontinuum.org">Portal<style data-emotion="css 1n4a93h">.css-1n4a93h{display:inherit;margin-right:-4px;margin-left:8px;}.css-1n4a93h>*:nth-of-type(1){font-size:20px;}</style><span class="MuiButton-endIcon MuiButton-iconSizeMedium css-1n4a93h"><style data-emotion="css vubbuv">.css-vubbuv{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:1em;height:1em;display:inline-block;fill:currentColor;-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;-webkit-transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;transition:fill 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;font-size:1.5rem;}</style><svg class="MuiSvgIcon-root MuiSvgIcon-fontSizeMedium css-vubbuv" focusable="false" aria-hidden="true" viewBox="0 0 24 24" data-testid="LoginRoundedIcon"><path d="M10.3 7.7c-.39.39-.39 1.01 0 1.4l1.9 1.9H3c-.55 0-1 .45-1 1s.45 1 1 1h9.2l-1.9 1.9c-.39.39-.39 1.01 0 1.4.39.39 1.01.39 1.4 0l3.59-3.59c.39-.39.39-1.02 0-1.41L11.7 7.7a.9839.9839 0 0 0-1.4 0zM20 19h-7c-.55 0-1 .45-1 1s.45 1 1 1h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-7c-.55 0-1 .45-1 1s.45 1 1 1h7v14z"></path></svg></span></a></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><main class="container container--fluid margin-vert--lg"><div class="row mdxPageWrapper_j9I6"><div class="col col--8"><article><h1>Integrating Chameleon</h1><p>Hello! My name is Akhil Kodumuri, and I am currently a Sophomore pursuing a Computer Engineering degree at the University of Illinois at Urbana-Champaign. My work with Sage this Summer consisted of integrating Sage AI at the edge cyberinfrastructure with the Chameleon platform to simulate a testing and deploying environment.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-the-stage">Setting The Stage<a href="#setting-the-stage" class="hash-link" aria-label="Direct link to Setting The Stage" title="Direct link to Setting The Stage">​</a></h2><p>The goal of the Sage project is to design and build a new kind of national-scale reusable cyberinfrastructure to enable AI at the edge. Wildfire, flood, and climate change change detection will be made available at the edge thanks to the Sage project.</p><p>However, in order for this goal to become a reality, software and hardware must be created in order to support AI at the edge. There must be a way for a student or programmer to easily access Sage’s resources and interact with the Sage environment.</p><p>Well, what’s the best way to do this so students and researchers can install an environment easily with all of Sage’s dependencies? Sounds like a challenge that <em>software virtualization </em>is designed to solve! We created an all encompassing Image designed to meet the needs of students and programmers who use the Sage platform.</p><p>With this image, the Sage team created a customizable, innovative, and user friendly environment for students and programmers alike to run their world changing machine learning algorithms with the help of Sage software and hardware. However, having a useful image is one thing, but not every student or programmer has a computer powerful enough to run intensive machine learning algorithms or Sage software plugins. Not only that, Sage has access to some neat pieces of <a href="https://github.com/sagecontinuum/sage/blob/master/architecture_overview.md" target="_blank" rel="noopener noreferrer">hardware</a> that are available to users to use. So, our next step is to find the best way for users to access hardware to run this Sage image.</p><p>That’s where the Chameleon platform comes in. Chameleon is a testbed of computational resources that are made available for the scientific community for running experiments. Chameleon has hardware available for Sage users at three different locations:CHI@UC, CHI@TACC, KVM@TACC. The CHI@UC and CHI@TACC site are both bare-metal sites, so only physical hardware is available. While the KVM@TACC site, is a virtual machine site. Users simply have to, create a reservation on the Chameleon, launch an instance, and attach an ip address to their instance. After doing these three steps, users are ready to start using there very own Chameleon machine.</p><p><img loading="lazy" alt="creating chameleon instance" src="/waggle-docs/assets/images/integrating-chameleon-1-ec137beab3b7a3c9c28f88cc301d92b1.png" width="733" height="747" class="img_ev3q">
<img loading="lazy" alt="creating chameleon instance 2" src="/waggle-docs/assets/images/integrating-chameleon-2-c9ecf84502cf8a79f3c11fc32c250542.png" width="961" height="595" class="img_ev3q"></p><blockquote><p>Creating a reservation and instance taken from Chameleon.<sup>[<a href="#references">1</a>]</sup></p></blockquote><p><img loading="lazy" alt="allocating ips" src="/waggle-docs/assets/images/integrating-chameleon-3-dbbb90b9802e011a42a638baeace4f1b.png" width="732" height="297" class="img_ev3q"></p><blockquote><p>Allocating floating ip.<sup>[<a href="#references">1</a>]</sup></p></blockquote><p>Combined with the all encompassing software image, users can easily access and use Sage software and hardware. A list of hardware and software resources can be seen on the <a href="https://github.com/sagecontinuum/sage/blob/master/architecture_overview.md" target="_blank" rel="noreferrer noopener">Sage GitHub repository</a>.  Included with the Chameleon-Sage image is a developer environment where users can create and test their machine learning algorithms in an environment that mimics Waggle edge processors and nodes. Sage users will also have access to a local server endpoint that they can deploy. This server endpoint can be used as an entry point to facilitate the process of to pushing and pulling data for their experiments already running on Sage nodes. Many more features will be made available on this image.</p><h1>Chameleon-Sage Image</h1><p>In order to streamline Sage services with Chameleon hardware, the Sage software Image should include all of Sage’s software and services and be compatible with Sage and Chameleon hardware. That’s where my work comes in. I worked on creating Chameleon-Sage image that includes all of Sage’s software and services which, is, in turn, compatible with Chameleon and Sage hardware. The rest of this post is dedicated to explaining all of the Sage resources that I am including in the Chameleon-Sage image, as well as their purposes, and significance.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="features-included-in-image">Features included in Image<a href="#features-included-in-image" class="hash-link" aria-label="Direct link to Features included in Image" title="Direct link to Features included in Image">​</a></h3><a href="https://github.com/waggle-sensor/waggle-node" target="_blank" rel="noopener noreferrer">Virtual-Waggle</a> is one of the services that Sage provides its users. Virtual-Waggle is a programming environment where users can build and test edge-processing code in an environment that mimics Sage and Waggle nodes. User can also use Virtual-Waggle to test their Machine learning algorithms in an environment that mimics a waggle node, so users can resolve any potential issues before deploying them.<p>After seeing its usefulness, its almost no brainer to why it should be included into this all inclusive Chameleon-Sage image. Included within the Chameleon-Sage image is all the software necessary to run Virtual-Waggle. This image pulls images published and made available on Dockerhub, an online repository for software containers. The Chameleon-Sage image pulls the most recent version of virtual-waggle from the Sage repository for use. When a user runs <code>Virtual-waggle up</code>, after booting into the Chameleon-Sage image, they will be able to pull the most up-to-date version of virtual-waggle from Dockerhub. That way, if there are any updates made to virtual-waggle, a user will not be inconvenienced, and updates can be rolled out smoothly.</p><p>In order to streamline the launching of virtual-waggle, the feature of running and deploying docker containers without the use of <code>sudo</code> privileges was implemented into the Chameleon-Sage image. More specifically, any Sage service that requires the use of docker can be run without <code>sudo</code>.</p><p>Another feature that I spent time on was a prototype deployment method of launching multiple instances of virtual-waggle in a controlled setting. A use case for this deployment, is if a teacher wanted his/her students to all have an instance of virtual-waggle, he/she would just have to run a simple command to launch multiple instances of virtual-waggle. This command would create n-specified instances and pull all the necessary docker containers from DockerHub to run virtual-waggle. I worked on a prototype <a href="https://microk8s.io" target="_blank" rel="noopener noreferrer">microk8s</a> deployment that can accomplish this fact. Micork8 is a light weight Kubernetes deployment method designed for IoT and edge devises. Though it is just a prototype, it is a feature that Sage is working on and will make possible in the future.</p><p><img loading="lazy" alt="microk8 deployment" src="/waggle-docs/assets/images/integrating-chameleon-4-6a2cc03c489f9c33e02b00e172ceee44.png" width="821" height="374" class="img_ev3q"></p><blockquote><p>This is an abstract way of representing the multi scale microk8 deployment of Virtual-Waggle.<sup>[<a href="#references">2</a>]</sup></p></blockquote><a href="https://github.com/waggle-sensor/edge-plugins" target="_blank" rel="noopener noreferrer">Sage Edge Plugins</a> is another feature that’s included within the Sage image. This repository is helpful for people who wish to create their own plugins to use on the edge. Sage provides useful tools for building and training machine learning algorithms. Users are provided an easy way to faciliate the creation of edge-plugins.<p>Access to the <a href="https://github.com/waggle-sensor/beehive-server" target="_blank" rel="noopener noreferrer">Beehive</a> server is another benefit of using this Chameleon-Sage image. Beehive allows a way for users to push and pull sensor data from devises on the edge. Beehive can be useful in experiments that requires the collection of data or training machine learning algorithms.</p><p>Additionally, using GitHub Actions, I streamlined the the process of creating this Image, so future developers working with/for Sage can spin up a new image by a simple <code>git push</code>.</p><p><img loading="lazy" alt="sage platform overview" src="/waggle-docs/assets/images/integrating-chameleon-5-ec7f6e81e9fdc9e4b20fa44f7c690da7.png" width="889" height="416" class="img_ev3q"></p><blockquote><p>Overview of the Sage platform.<sup>[<a href="#references">3</a>]</sup></p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="versions-of-image">Versions of Image<a href="#versions-of-image" class="hash-link" aria-label="Direct link to Versions of Image" title="Direct link to Versions of Image">​</a></h3><p>Sage recognizes that users have all different sets of needs when running neural networks. That’s why users will have options to use different specialized versions/flavors of the Chameleon-Sage image. There are currently three different types of Chameleon-Sage images all available on the Chameleon catalog.</p><p><img loading="lazy" alt="chameleon sage image" src="/waggle-docs/assets/images/integrating-chameleon-6-eaca73ed2eee1e96eadde49de87a7c85.png" width="1024" height="504" class="img_ev3q"></p><blockquote><p>Snapshot of Sage image on Chameleon.<sup>[<a href="#references">1</a>]</sup></p></blockquote><p>Sage-VirtualWaggle-Ubuntu18.04 – This is the standard Chameleon-Sage image that is available at all three Chameleon sites. This image includes all of the previously stated features and runs with Ubuntu 18.04.</p><p>Sage-VirtualWaggle-Ubuntu18.04-CUDA – This image is compatible with a CUDA10 driver and with with Ubuntu 18.04. This image is available at the CHI@TACC and CHI@UC sites.</p><p>Sage-VirtualWaggle-ARM64 – This image is built for arm64 architecture and is built with Ubuntu 18.04. This image is available at the CHI@TACC site.</p><p>Sage users are also able to create their own images customizable to their needs. Detailed steps can be found on the <a href="https://github.com/sagecontinuum/Chameleon-Sage-Image-Builder" target="_blank" rel="noopener noreferrer">Chameleon-Sage-Image builder</a> repository.</p><p>The image can be found on the official Chameleon catalogLink: <a href="https://www.chameleoncloud.org/appliances/85/" target="_blank" rel="noopener noreferrer">https://www.chameleoncloud.org/appliances/85/</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2><ol><li>“A Configurable Experimental Environment for Large-Scale Cloud Research.” Chameleon, <a href="http://www.chameleoncloud.org/" target="_blank" rel="noopener noreferrer">www.chameleoncloud.org/</a>.</li><li>“Kubernetes Components.” Kubernetes, 22 June 2020, kubernetes.io/docs/concepts/overview/components/.</li><li><a href="https://github.com/sagecontinuum/sage" target="_blank" rel="noopener noreferrer">https://github.com/sagecontinuum/sage</a></li></ol></article></div><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setting-the-stage" class="table-of-contents__link toc-highlight">Setting The Stage</a><ul><li><a href="#features-included-in-image" class="table-of-contents__link toc-highlight">Features included in Image</a></li><li><a href="#versions-of-image" class="table-of-contents__link toc-highlight">Versions of Image</a></li></ul></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></main></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
<script src="/waggle-docs/assets/js/runtime~main.5551fb9b.js"></script>
<script src="/waggle-docs/assets/js/main.a7c51225.js"></script>
</body>
</html>